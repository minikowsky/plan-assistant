<!DOCTYPE html>

<html lang="pl">
<head>
    <meta charset="utf-8">
    <title> Plan zajęć - Final </title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link type="text/css" rel="stylesheet" href="planStyle.css">
</head>
<body>
    <main>
        <div class="mainDisplay">
            <!-- górny pasek -->
            <div class="settings">
                <h2 class="settingsLabel">Plan zajęć</h2>
                <button id="addClasses" class="settingsButton" onmousedown="addClassesOpen()">Dodaj <br> zajęcia</button>
                <button id="settings" class="settingsButton" onmousedown="settingsOpen()">Ustawienia</button>
                <button id="logOut" class="settingsButton redButton" onmousedown="logOut()"><strong>Wyloguj</strong></button>
            </div>

            <!-- część dolna -->
            <div class="planTable">
                <div id="classes" class="classesContainer"></div>

                <!-- formularz logowania -->
                <div id="login" class="formContainer">
                    <div class="formRow">
                        <h2>Logowanie</h2>
                    </div>
                    <div class="formRow">
                        <div id="errorLogIn" class="errorMessage">&nbsp;</div>
                    </div>
                    <div class="formRow">
                        <div><p><strong>Login</strong></p></div>
                        <input id="userLogin" type="text"/>
                    </div>
                    <div class="formRow">
                        <div><p><strong>Hasło</strong></p></div>
                        <input id="userPassword" type="password"/>
                    </div>
                    <div class="formRow">
                        <button class="formButton" onmousedown="userLogin()"><strong>Logowanie</strong></button>
                        <button class="formButton" onmousedown="toSignUp()"><strong>Rejestracja</strong></button>
                    </div>
                </div>

                <!-- formularz rejestracji -->
                <div id="signup" class="formContainer signUpContainer">
                    <div class="formRow">
                        <h2>Rejestracja</h2>
                    </div>
                    <div class="formRow">
                        <div id="errorSignUp" class="errorMessage">&nbsp;</div>
                    </div>
                    <div class="formRow">
                        <div><p><strong>Login</strong></p></div>
                        <input id="newLogin" type="text"/>
                    </div>
                    <div class="formRow">
                        <div><p><strong>Hasło</strong></p></div>
                        <input id="newPassword" type="password"/>
                    </div>
                    <div class="formRow">
                        <button class="formButton" onmousedown="createAccount()"><strong>Utwórz konto</strong></button>
                        <button class="formButton" onmousedown="toLogIn()"><strong>Powrót</strong></button>
                    </div>
                </div>
            </div>
        </div>

        <!-- okienko dodaj zajęcia -->
        <div id="addClassesPopup" class="popupOverlay">
            <div class="popup">
                <h2>Dodaj nowe zajęcia</h2>
                <a class="close" href="#" onmousedown="addClassesClose()">&times;</a>
                <div class="popupContent">
                    <div id="error" class="errorMessage">&nbsp;</div>
                    <div class="popupContentRow">
                        <div>Nazwa zajęć</div>
                        <input id="classesName" class="formInput" type="text"/>
                    </div>
                    <div class="popupContentRow">
                        <div>Dzień tygodnia</div>
                        <select id="day" class="startDay">
                            <option>Poniedziałek</option>
                            <option>Wtorek</option>
                            <option>Środa</option>
                            <option>Czwartek</option>
                            <option>Piątek</option>
                            <option>Sobota</option>
                            <option>Niedziela</option>
                        </select>
                    </div>
                    <div class="popupContentRow">
                        <div>Godzina rozpoczęcia</div>
                        <select id="start" class="startHour">
                            <option>06:00</option><option>06:15</option><option>06:30</option><option>06:45</option>
                            <option>07:00</option><option>07:15</option><option>07:30</option><option>07:45</option>
                            <option>08:00</option><option>08:15</option><option>08:30</option><option>08:45</option>
                            <option>09:00</option><option>09:15</option><option>09:30</option><option>09:45</option>
                            <option>10:00</option><option>10:15</option><option>10:30</option><option>10:45</option>
                            <option>11:00</option><option>11:15</option><option>11:30</option><option>11:45</option>
                            <option>12:00</option><option>12:15</option><option>12:30</option><option>12:45</option>
                            <option>13:00</option><option>13:15</option><option>13:30</option><option>13:45</option>
                            <option>14:00</option><option>14:15</option><option>14:30</option><option>14:45</option>
                            <option>15:00</option><option>15:15</option><option>15:30</option><option>15:45</option>
                            <option>16:00</option><option>16:15</option><option>16:30</option><option>16:45</option>
                            <option>17:00</option><option>17:15</option><option>17:30</option><option>17:45</option>
                            <option>18:00</option><option>18:15</option><option>18:30</option><option>18:45</option>
                            <option>19:00</option><option>19:15</option><option>19:30</option><option>19:45</option>
                            <option>20:00</option><option>20:15</option><option>20:30</option><option>20:45</option>
                            <option>21:00</option><option>21:15</option><option>21:30</option><option>21:45</option>                            
                            <option>22:00</option><option>22:15</option><option>22:30</option><option>22:45</option>                            
                        </select>
                    </div>
                    <div class="popupContentRow">
                        <div>Godzina zakończenia</div>
                        <select id="end">
                            <option>06:15</option><option>06:30</option><option>06:45</option><option>07:00</option>
                            <option>07:15</option><option>07:30</option><option>07:45</option><option>08:00</option>
                            <option>08:15</option><option>08:30</option><option>08:45</option><option>09:00</option>
                            <option>09:15</option><option>09:30</option><option>09:45</option><option>10:00</option>
                            <option>10:15</option><option>10:30</option><option>10:45</option><option>11:00</option>
                            <option>11:15</option><option>11:30</option><option>11:45</option><option>12:00</option>
                            <option>12:15</option><option>12:30</option><option>12:45</option><option>13:00</option>
                            <option>13:15</option><option>13:30</option><option>13:45</option><option>14:00</option>
                            <option>14:15</option><option>14:30</option><option>14:45</option><option>15:00</option>
                            <option>15:15</option><option>15:30</option><option>15:45</option><option>16:00</option>
                            <option>16:15</option><option>16:30</option><option>16:45</option><option>17:00</option>
                            <option>17:15</option><option>17:30</option><option>17:45</option><option>18:00</option>
                            <option>18:15</option><option>18:30</option><option>18:45</option><option>19:00</option>
                            <option>19:15</option><option>19:30</option><option>19:45</option><option>20:00</option>
                            <option>20:15</option><option>20:30</option><option>20:45</option><option>21:00</option>
                            <option>21:15</option><option>21:30</option><option>21:45</option><option>22:00</option>
                            <option>22:15</option><option>22:30</option><option>22:45</option><option>23:00</option>
                        </select>
                    </div>
                    <div class="popupContentRow">
                        <div>Notatka</div>
                        <div class="clasesNote">
                            <textarea id="classesNoteText" rows="3" cols="40"></textarea>
                        </div>
                    </div>
                    <div class="popupContentRow">
                        <div>Kolor</div>
                        <input id="classesColor" class="inputColor" type="color"/>
                    </div>
                    <button class="formButton addNewClasses" onmousedown="addNewClasses('new')">
                        <strong>Dodaj</strong>
                    </button>
                </div>
            </div>
        </div>

        <!-- okienko wyświetl / edytuj zajęcia -->
        <div id="editClassesPopup" class="popupOverlay">
            <div class="popup">
                <h2 id="editClassesName">&nbsp;</h2>
                <a class="close" href="#">&times;</a>
                <div class="popupContent">
                    <div class="popupContentRow blockNote">
                        <div id="editClassesNote">&nbsp;</div>
                    </div>
                    <div class="popupContentRow">
                        <button class="formButton" onmousedown="editBlock()">Edytuj</button>
                    </div>
                    <div class="popupContentRow">
                        <button class="formButton redButton" onmousedown="editConfirm()"><strong>Usuń</strong></button>
                    </div>
                </div>
            </div>
        </div>

        <!-- okienko ustawienia -->
        <div id="settingsPopup" class="popupOverlay">
            <div class="popup">
                <h2>Ustawienia</h2>
                <a class="close" href="#">&times;</a>
                <div class="popupContent">
                    <div class="popupContentRow">
                        <button class="formButton" onmousedown="planExport()">Eksportuj plan zajęć</button>
                    </div>
                    <div class="popupContentRow">
                        <button class="formButton" onmousedown="planImport()">Importuj plan zajęć</button> 
                    </div>
                    <div class="popupContentRow">
                        <button class="formButton redButton" onmousedown="pleaseConfirm()"><strong>Usuń konto</strong></button>
                    </div>                       
                </div>
            </div>
        </div>

        <!-- okienko potwierdzenia usunięcia konta -->
        <div id="confirmPopup" class="popupOverlay">
            <div class="popup">
                <h2>Uwaga</h2>
                <a class="close" href="#settingsPopup">&times;</a>
                <div class="popupContent">
                    <div class="popupContentRow">
                        <h3>Czy na pewno chcesz usunąć konto?</h3>
                    </div>
                    <div class="popupContentRow">
                        <button class="formButton redButton" onmousedown="confirmPositive()"><strong>TAK</strong></button> 
                    </div>
                    <div class="popupContentRow">
                        <button class="formButton greenButton" onmousedown="confirmNegative()"><strong>NIE</strong></button>
                    </div>                       
                </div>
            </div>
        </div>

        <!-- okienko potwierdzenia usunięcia bloku -->
        <div id="confirmPopup2" class="popupOverlay">
            <div class="popup">
                <h2>Uwaga</h2>
                <a class="close" href="#editClassesPopup">&times;</a>
                <div class="popupContent">
                    <div class="popupContentRow">
                        <h3>Czy na pewno chcesz usunąć blok zajęć?</h3>
                    </div>
                    <div class="popupContentRow">
                        <button class="formButton redButton" onmousedown="confirmPositiveBlock()"><strong>TAK</strong></button> 
                    </div>
                    <div class="popupContentRow">
                        <button class="formButton greenButton" onmousedown="confirmNegativeBlock()"><strong>NIE</strong></button>
                    </div>                       
                </div>
            </div>
        </div>

        <!-- okienko edytuj zajęcia -->
        <div id="editExistingClassesPopup" class="popupOverlay">
            <div class="popup">
                <h2>Edytuj zajęcia</h2>
                <a class="close" href="#editClassesPopup">&times;</a>
                <div class="popupContent">
                    <div id="errorEdit" class="errorMessage">&nbsp;</div>
                    <div class="popupContentRow">
                        <div>Nazwa zajęć</div>
                        <input id="editExistingClassesName" class="formInput" type="text"/>
                    </div>
                    <div class="popupContentRow">
                        <div>Dzień tygodnia</div>
                        <select id="editDay" class="startDay">
                            <option>Poniedziałek</option>
                            <option>Wtorek</option>
                            <option>Środa</option>
                            <option>Czwartek</option>
                            <option>Piątek</option>
                            <option>Sobota</option>
                            <option>Niedziela</option>
                        </select>
                    </div>
                    <div class="popupContentRow">
                        <div>Godzina rozpoczęcia</div>
                        <select id="editStart" class="startHour">
                            <option>06:00</option><option>06:15</option><option>06:30</option><option>06:45</option>
                            <option>07:00</option><option>07:15</option><option>07:30</option><option>07:45</option>
                            <option>08:00</option><option>08:15</option><option>08:30</option><option>08:45</option>
                            <option>09:00</option><option>09:15</option><option>09:30</option><option>09:45</option>
                            <option>10:00</option><option>10:15</option><option>10:30</option><option>10:45</option>
                            <option>11:00</option><option>11:15</option><option>11:30</option><option>11:45</option>
                            <option>12:00</option><option>12:15</option><option>12:30</option><option>12:45</option>
                            <option>13:00</option><option>13:15</option><option>13:30</option><option>13:45</option>
                            <option>14:00</option><option>14:15</option><option>14:30</option><option>14:45</option>
                            <option>15:00</option><option>15:15</option><option>15:30</option><option>15:45</option>
                            <option>16:00</option><option>16:15</option><option>16:30</option><option>16:45</option>
                            <option>17:00</option><option>17:15</option><option>17:30</option><option>17:45</option>
                            <option>18:00</option><option>18:15</option><option>18:30</option><option>18:45</option>
                            <option>19:00</option><option>19:15</option><option>19:30</option><option>19:45</option>
                            <option>20:00</option><option>20:15</option><option>20:30</option><option>20:45</option>
                            <option>21:00</option><option>21:15</option><option>21:30</option><option>21:45</option>
                            <option>22:00</option><option>22:15</option><option>22:30</option><option>22:45</option>
                        </select>
                    </div>
                    <div class="popupContentRow">
                        <div>Godzina zakończenia</div>
                        <select id="editEnd">
                            <option>06:15</option><option>06:30</option><option>06:45</option><option>07:00</option>
                            <option>07:15</option><option>07:30</option><option>07:45</option><option>08:00</option>
                            <option>08:15</option><option>08:30</option><option>08:45</option><option>09:00</option>
                            <option>09:15</option><option>09:30</option><option>09:45</option><option>10:00</option>
                            <option>10:15</option><option>10:30</option><option>10:45</option><option>11:00</option>
                            <option>11:15</option><option>11:30</option><option>11:45</option><option>12:00</option>
                            <option>12:15</option><option>12:30</option><option>12:45</option><option>13:00</option>
                            <option>13:15</option><option>13:30</option><option>13:45</option><option>14:00</option>
                            <option>14:15</option><option>14:30</option><option>14:45</option><option>15:00</option>
                            <option>15:15</option><option>15:30</option><option>15:45</option><option>16:00</option>
                            <option>16:15</option><option>16:30</option><option>16:45</option><option>17:00</option>
                            <option>17:15</option><option>17:30</option><option>17:45</option><option>18:00</option>
                            <option>18:15</option><option>18:30</option><option>18:45</option><option>19:00</option>
                            <option>19:15</option><option>19:30</option><option>19:45</option><option>20:00</option>
                            <option>20:15</option><option>20:30</option><option>20:45</option><option>21:00</option>
                            <option>21:15</option><option>21:30</option><option>21:45</option><option>22:00</option>
                            <option>22:15</option><option>22:30</option><option>22:45</option><option>23:00</option>
                        </select>
                    </div>
                    <div class="popupContentRow">
                        <div>Notatka</div>
                        <div class="clasesNote">
                            <textarea id="editExistingClassesNoteText" rows="3" cols="40"></textarea>
                        </div>
                    </div>
                    <div class="popupContentRow">
                        <div>Kolor</div>
                        <input id="editClassesColor" class="inputColor" type="color"/>
                    </div>
                    <button class="formButton addNewClasses" onmousedown="editExistingClasses()">
                        <strong>Edytuj</strong>
                    </button>
                </div>
            </div>
        </div>
    </main>

    <script>
        var clickedID = "";
        var id = 1;

        var initialTop = 47;
        var initialLeft = 68;
        var blockWidth = 257;
        
        const hexToRGB = hex => hex.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i
             ,(m, r, g, b) => '#' + r + r + g + g + b + b).substring(1).match(/.{2}/g)
             .map(x => parseInt(x, 16))

        // Otwarcie okienka do dodawania bloku do planu
        function addClassesOpen() {
            if (document.location.href.includes("#addClassesPopup")) {
                document.location.href = "#";
            }
            else {
                document.location.href = "#addClassesPopup";
            }
        }

        // Zamknięcie okienka do dodawania bloku do planu
        function addClassesClose() {            
            document.location.href = "#";

            document.getElementById("classesName").value = "";
            document.getElementById("error").innerHTML = "&nbsp";
            document.getElementById("day").selectedIndex = 0;
            document.getElementById("start").selectedIndex = 0;
            document.getElementById("end").selectedIndex = 0;
            document.getElementById("classesNoteText").value = "";
            document.getElementById("classesColor").value = "#000000";  
        }

        // Otwarcie okienka wyświetlenia / edycji bloku
        function editClassesOpen(id) {
            clickedID = id;
            let name = document.getElementById("name" + id).innerHTML;
            let note = document.getElementById("note" + id).innerHTML;

            document.getElementById("editClassesName").innerHTML = name;
            document.getElementById("editClassesNote").innerHTML = note;

            document.location.href = "#editClassesPopup";
        }
  
        // Dodanie bloku do widoku planu
        function addNewClasses(mode) {
            let name = "";
            let selectedDay = "";
            let selectedStart = "";
            let selectedEnd = "";
            let note = "";
            let color = "";
            let checkColor = "";

            if (mode == "new") {
                name = document.getElementById("classesName").value;
                selectedDay = document.getElementById("day");
                selectedStart = document.getElementById("start");
                selectedEnd = document.getElementById("end");
                note = document.getElementById("classesNoteText").value;
                color = document.getElementById("classesColor").value;
                checkColor = hexToRGB(color);
            }
            else if (mode == "edit") {                
                name = document.getElementById("editExistingClassesName").value;
                selectedDay = document.getElementById("editDay");
                selectedStart = document.getElementById("editStart");
                selectedEnd = document.getElementById("editEnd");
                note = document.getElementById("editExistingClassesNoteText").value;
                color = document.getElementById("editClassesColor").value;
                checkColor = hexToRGB(color);
            }                       
            
            let day = selectedDay.options[selectedDay.selectedIndex].innerHTML;
            let start = selectedStart.options[selectedStart.selectedIndex].innerHTML;
            let end = selectedEnd.options[selectedEnd.selectedIndex].innerHTML;

            if (start < end) {                
                let marginTop = topMargin(selectedStart);
                let marginLeft = leftMargin(selectedDay);
                let height = blockHeight(selectedStart, selectedEnd);

                newClasses = document.createElement("div");
                newClasses.id = id;
                newClasses.style.backgroundColor = color;
                newClasses.style.zIndex = "10";
                newClasses.style.position = "absolute";
                newClasses.style.top = marginTop + "px";
                newClasses.style.left = marginLeft + "px";
                newClasses.style.width = blockWidth + "px";
                newClasses.style.height = height + "px";
                newClasses.style.textAlign = "center";
                newClasses.style.fontSize = "11px";
                newClasses.style.overflow = "auto";
                
                if (checkColor[0] > 220 || checkColor[1] > 180 || 
                (checkColor[0] > 150 && checkColor[1] > 150) ||
                (checkColor[1] > 150 && checkColor[2] > 150) ||
                (checkColor[0] > 150 && checkColor[2] > 150)) {
                    newClasses.style.color = "#000000";
                }

                id++;

                newClasses.onmousedown = function() {
                    editClassesOpen(this.id);
                }

                newClassesContainer = document.createElement("div");
                newClassesTopRow = document.createElement("div");
                newClassesRowDay = document.createElement("div");
                newClassesRowStart = document.createElement("div");
                newClassesRowEnd = document.createElement("div");
                newClassesBottomRow = document.createElement("div");

                newClassesTopRow.id = "name" + newClasses.id;
                newClassesTopRow.innerHTML = name;
                newClassesBottomRow.id = "note" + newClasses.id;
                newClassesBottomRow.innerHTML = note.replaceAll("\n", "<br>");

                newClassesContainer.appendChild(newClassesTopRow);
                newClassesContainer.appendChild(newClassesBottomRow);

                newClasses.appendChild(newClassesContainer);

                parent = document.getElementById("classes");
                parent.appendChild(newClasses);
                
                document.getElementById("classesName").value = "";
                document.getElementById("error").innerHTML = "&nbsp";
                document.getElementById("day").selectedIndex = 0;
                document.getElementById("start").selectedIndex = 0;
                document.getElementById("end").selectedIndex = 0;
                document.getElementById("classesNoteText").value = "";
                document.getElementById("classesColor").value = "#000000";

                document.location.href = "#";
            }
            else {
                if (mode == 'new') {
                    document.getElementById("error").innerHTML = "Nieprawidłowo wprowadzony przedział godzinowy.";
                }
                else {
                    document.getElementById("errorEdit").innerHTML = "Nieprawidłowo wprowadzony przedział godzinowy.";
                }
                
            }            
        }
                
        function topMargin(start) {
            return start.selectedIndex * 11 + ((Math.floor(start.selectedIndex / 4)) * 2) + initialTop;
        }

        function leftMargin(day) {
            return initialLeft + ((day.selectedIndex) * (blockWidth + 2));
        }

        function blockHeight(start, end) {
            let difference = (end.selectedIndex + 1) - start.selectedIndex;
            let height = (Math.floor(difference / 4) * 2) + (difference * 11) - 1;

            let startValue = start.options[start.selectedIndex].innerHTML;
            let endValue = end.options[end.selectedIndex].innerHTML;

            if (startValue.slice(-2) == "00" && endValue.slice(-2) == "00") return height - 1;
            if (startValue.slice(-2) != "00" && endValue.slice(-2) == "00") return height + 1;
            if (Math.floor(difference / 4) < (parseInt(endValue.slice(0, 2)) - parseInt(startValue.slice(0, 2)))) return height + 2;


            return height;
        }

        // login --> tabelka
        function userLogin() {
            /* dodać sprawdzenie użytkownika w bazie */
            let login = document.getElementById("userLogin").value;
            let password = document.getElementById("userPassword").value;

            if (login != "" && password != "") {
                document.getElementById("login").style.display = "none";
                document.getElementById("classes").style.display = "block";
                document.getElementById("addClasses").style.display = "block";
                document.getElementById("settings").style.display = "block";
                document.getElementById("logOut").style.display = "block";

                document.getElementById("errorLogIn").innerHTML = "&nbsp";
                document.getElementById("userLogin").value = "";
                document.getElementById("userPassword").value = "";

                tableGenerate();
            }
            else {
                document.getElementById("errorLogIn").innerHTML = "Login i hasło nie mogą być puste.";
            }
        }

        // wyloguj (tabelka --> loguj)
        function logOut() {
            document.getElementById("login").style.display = "flex";
            document.getElementById("classes").style.display = "none";
            document.getElementById("addClasses").style.display = "none";
                document.getElementById("settings").style.display = "none";
            document.getElementById("logOut").style.display = "none";

            document.getElementById("errorLogIn").innerHTML = "&nbsp";
            document.getElementById("userLogin").value = "";
            document.getElementById("userPassword").value = "";
        }

        // przejście do formularza rejestracji z formularza logowania
        function toSignUp() {            
            document.getElementById("errorLogIn").innerHTML = "&nbsp";
            document.getElementById("login").style.display = "none";
            document.getElementById("signup").style.display = "flex";   

            document.getElementById("userLogin").value = "";
            document.getElementById("userPassword").value = "";         
        }

        // przejście do formularza logowania z formularza rejestracji
        function toLogIn() {
            document.getElementById("errorSignUp").innerHTML = "&nbsp";
            document.getElementById("login").style.display = "flex";
            document.getElementById("signup").style.display = "none";

            document.getElementById("newLogin").value = "";
            document.getElementById("newPassword").value = "";
        }

        // stworzenie konta
        function createAccount() {
            /* dodać wpisanie użytkownika do bazy */
            let login = document.getElementById("newLogin").value;
            let password = document.getElementById("newPassword").value;

            if (login != "" && password != "") {
                document.getElementById("errorSignUp").innerHTML = "&nbsp";
                document.getElementById("newLogin").value = "";
                document.getElementById("newPassword").value = "";

                toLogIn();
            }
            else {
                document.getElementById("errorSignUp").innerHTML = "Login i hasło nie mogą być puste.";
            }
            
        }

        // okienko ustawień
        function settingsOpen() {
            document.location.href = "#settingsPopup";
        }

        // okienko potwierdzenia
        function pleaseConfirm() {
            document.location.href = "#confirmPopup";
        }

        // nie usunięcie konta
        function confirmNegative() {
            document.location.href = "#settingsPopup";
        }
        
        // usunięcie konta
        function confirmPositive() {
            /* tu kod do usunięcia użytkownika z bazy */

            document.location.href = "";
        }

        // eksport planu
        function planExport() {

        }

        // import planu
        function planImport() {

        }
    
        // przejście do potwierdzenia usunięcia bloku zajęć
        function editConfirm() {
            document.location.href = "#confirmPopup2";
        }

        // nie usunięcie bloku zajęć
        function confirmNegativeBlock() {
            document.location.href = "#editClassesPopup";
        }
        
        // usunięcie bloku zajęć
        function confirmPositiveBlock() {
            /* tu kod do usunięcia bloku zajęć z bazy */
            document.getElementById("classes").removeChild(document.getElementById(clickedID));

            document.location.href = "#";
        }

        // otwarcie okna edycji istniejącego bloku
        function editBlock() {
            /* 
                pobranie wartości z bazy dla istniejącego bloku zajęć
            */

            document.getElementById("editExistingClassesName").value = document.getElementById("editClassesName").innerHTML;
            document.getElementById("editExistingClassesNoteText").value = document.getElementById("editClassesNote").innerHTML.replaceAll("<br>", "\n");

            document.location.href = "#editExistingClassesPopup";
        }

        // zmiana wartości w istniejącym bloku
        function editExistingClasses() {
            /* tu będzie nadpisanie wartości dla wybranego przedmiotu */

            addNewClasses('edit');
            confirmPositiveBlock();
        }
    
        // generowanie pustej tabelki z planem
        function tableGenerate() {
            let oClock = ["06:00", "07:00", "08:00", "09:00", "10:00", "11:00", "12:00", "13:00",
                          "14:00", "15:00", "16:00", "17:00", "18:00", "19:00", "20:00", "21:00", "22:00"];
            let firstRowElements = ["&nbsp;", "Poniedziałek", "Wtorek",
             "Środa", "Czwartek", "Piątek", "Sobota", "Niedziela"]
            
            let table = document.createElement("table");
            table.id = "plan";
            table.className = "planTableTable";
            
            let firstRow = document.createElement("tr");

            for (i = 0; i < firstRowElements.length; i++) {
                let cell = document.createElement("td");
                cell.innerHTML = firstRowElements[i];

                firstRow.appendChild(cell);
            }

            table.appendChild(firstRow);

            for (i = 0; i < oClock.length; i++) {
                let newRow = document.createElement("tr");
                let newFirstCell = document.createElement("td");
                newFirstCell.innerHTML = oClock[i];

                newRow.appendChild(newFirstCell);

                for (j = 0; j < 7; j++) {
                    let newCell = document.createElement("td");
                    let newContainer = document.createElement("div");
                    let newInner00 = document.createElement("div");
                    let newInner15 = document.createElement("div");
                    let newInner30 = document.createElement("div");
                    let newInner45 = document.createElement("div");

                    newContainer.className = "newHour";
                    newInner00.className = "hour00";
                    newInner15.className = "hour15";
                    newInner30.className = "hour30";
                    newInner45.className = "hour45";

                    newContainer.appendChild(newInner00);
                    newContainer.appendChild(newInner15);
                    newContainer.appendChild(newInner30);
                    newContainer.appendChild(newInner45);

                    newCell.appendChild(newContainer);
                    newRow.appendChild(newCell);
                }

                table.appendChild(newRow);
            }

            document.getElementById("classes").innerHTML = "";
            document.getElementById("classes").appendChild(table);
        }
    </script>
</body>
</html>